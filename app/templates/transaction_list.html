<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaction List</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.7.1/css/buttons.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <style>
        .loader {
            border: 16px solid #f3f3f3;
            border-radius: 50%;
            border-top: 16px solid #3498db;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class='container'>
        <h1 class='text-center'>Transaction List</h1>
        <div class="loader" id="loader"></div>
        <table id="transactionTable" class="display" style="display: none;">
            <thead>
                <tr>
                    <th>Transaction Date</th>
                    <th>Value Date</th>
                    <th>Customer Name</th>
                    <th>Phone Number</th>
                    <th>Payment Code</th>
                    <th>Till Number</th>
                    <th>Debit</th>
                    <th>Credit</th>
                </tr>
            </thead>
            <tbody class='customer_data'>
            </tbody>
        </table>
        <style>
            .customer_data {
                font-size: 7pt;
            }
            .dt-button {
                background-color: #4CAF50; /* Green background */
                border: none; /* Remove borders */
                color: white; /* White text */
                padding: 5px 12px; /* Reduced padding */
                cursor: pointer; /* Pointer/hand icon */
                border-radius: 4px; /* Rounded corners */
                font-size: 12px; /* Smaller font size */
                margin: 2px;
            }
    
            .dt-button:hover {
                background-color: #45a049; /* Darker green */
            }
    
            .dataTables_wrapper .dataTables_paginate .paginate_button {
                background-color: #4CAF50; /* Green background */
                border: none; /* Remove borders */
                color: white !important; /* White text */
                padding: 5px 12px; /* Reduced padding */
                cursor: pointer; /* Pointer/hand icon */
                border-radius: 4px; /* Rounded corners */
                font-size: 12px; /* Smaller font size */
                margin: 2px;
            }
    
            .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
                background-color: #45a049; /* Darker green */
            }
    
            .dataTables_wrapper .dataTables_paginate .paginate_button.current {
                background-color: #3498db; /* Different color for the active page */
                color: white !important;
        }
        </style>
    <div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.7.1/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.print.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.html5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>

    <script>
        $(document).ready(function() {
            setTimeout(function() {
                $('#loader').hide();
                $('#transactionTable').show();

                $('#transactionTable').DataTable({
                    ajax: {
                        url: '{% url "transaction_list_data" %}',
                        dataSrc: 'data'
                    },
                    columns: [
                        { data: 'transaction_date' },
                        { data: 'value_date' },
                        { data: 'customer_name' },
                        { data: 'phone_number' },
                        { data: 'payment_code' },
                        { data: 'till_number' },
                        { data: 'debit' },
                        { data: 'credit' }
                    ],
                    pageLength: 18,
                    dom: 'Bfrtip',
                    buttons: [
                        'copy', 'csv', 'excel', 'pdf', 'print'
                    ]
                });
                  // Apply custom styles to buttons
                $('.dt-button').css({
                    'background-color': '#4CAF50',
                    'color': 'white',
                    'border': 'none',
                    'padding': '5px 12px', // Reduced padding
                    'border-radius': '4px',
                    'font-size': '12px', // Smaller font size
                    'margin': '2px'
                });

                $('.dt-button').hover(
                    function() {
                        $(this).css('background-color', '#45a049');
                    },
                    function() {
                        $(this).css('background-color', '#4CAF50');
                    }
                );
            }, 50); // Adjust delay as needed (2000 milliseconds = 2 seconds)
        });
    </script>
</body>
</html>
